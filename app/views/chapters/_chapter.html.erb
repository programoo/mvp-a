<% content_for :level_one do %>
  <div class="sleft">
    <i class="bi bi-list-ol fs-2 p-2"
    role="button"
    data-bs-toggle="modal"
    data-bs-target="#chaptersModal">
    </i>
    <p class="d-inline m-0 ms-3"><%= chapter.title %></p>
  </div>
  <div class="sright">
    <%= render "layouts/reader_settings" %>
  </div>
<% end %>
<div id="<%= dom_id chapter %>" 
     class="container my-5" 
     style="line-height: 1.8; font-size: 1.1rem;">
  <!-- title -->
  <h1 class="mb-4 text-center"
      style="font-family: Georgia, serif;">
    <%= chapter.title %>
  </h1>
  <!-- description -->
  <% if chapter.description.present? %>
    <p class="text-muted fst-italic mb-4 text-center">
      <%= chapter.description %>
    </p>
  <% end %>
  <!-- content -->
  <div class="mt-4 reader-content" 
       style="font-family: 'Times New Roman', serif; text-align: justify;">
    <%= simple_format chapter.content %>
  </div>
  <!-- bottom info -->
  <div class="mt-5 text-muted text-end reader-content"
       style="font-size: .9rem;">
    Written in: <%= chapter.writing.title if chapter.writing %>
  </div>
  <div class="position-sticky bottom-0 border-top py-3">
    <div class="container">
      <div class="d-flex justify-content-between gap-2">
        <% if @previous_chapter %>
          <%= link_to writing_chapter_path(@chapter.writing, @previous_chapter),
          class: "btn btn-outline-secondary d-flex align-items-center" do %>
            <i class="bi bi-chevron-left me-1"></i>
            ตอนก่อนหน้า
          <% end %>
        <% else %>
          <span></span>
        <% end %>
        <% if @next_chapter %>
          <%= link_to writing_chapter_path(@chapter.writing, @next_chapter),
          class: "btn btn-outline-secondary d-flex align-items-center" do %>
            ตอนถัดไป
            <i class="bi bi-chevron-right ms-1"></i>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
